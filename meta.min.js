/*
 Copyright (c) 2010 Rolando González Chévere <rolosworld@gmail.com>
 
 This file is part of Meta.
 
 Meta is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License version 3
 as published by the Free Software Foundation.
 
 Meta is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.
 
 You should have received a copy of the GNU General Public License
 along with Meta.  If not, see <http://www.gnu.org/licenses/>.
*/
(function(){var D=this,y,E=!!D.ActiveXObject,I={name:"Meta",author:"Rolando Gonz\u00e1lez, rolosworld@gmail.com",version:"2010.02.10"},h=D.Meta=function(){function b(e){var j=h.its(e),k=h.extensions[j];if(k)e=h(k).extend({_:e});else if(j!="meta"){k=h();j=="function"||h.its(e,"object")?k.extend(e):k.extend({_:e});e=k}return e.constructor}function c(e){function j(i,m){for(var a=i.length;a--;)if(i[a]===m)break;return a}function k(){}var g;if(e!==y)g=b(e);if(g){k.prototype=new g;k.prototype.constructor=
k}k.prototype.info=I;k.prototype.supr=function(i){if(g){var m=[],a,d=this.supr,f=arguments.length;for(a=1;a<f;a++)m.push(arguments[a]);this.supr=g.prototype.supr;m=g.prototype[i].apply(this,m);this.supr=d;return m}};k.prototype.extend=function(i,m){var a=[],d=[],f=this.constructor.prototype,l={};if(m){d=m.exclude||d;a=m.params||a}if(typeof i=="function"){i.apply(l,a);i=l}for(a in i)if(a!="constructor"&&f!=i[a]&&j(d,a)<0)f[a]=i[a];return this};return k}return function(e){return new (c(e))}}();h.extensions=
{};h.son=function(b){function c(){}c.prototype=b;return new c};h.extend=function(b,c){for(var e in c)if(b!=c[e])b[e]=c[e];return b};h.each=function(b,c,e){var j;if(e)for(j in b){if(c.call(b,b[j],j)===false)return false}else{j=0;for(e=b.length;j<e;j++)if(c.call(b,b[j],j)===false)return false}return true};h.its=function(b,c){var e=typeof b;if(c==e)return true;if(e=="object"||e=="function")e=b?b.nodeType?"element":Object.prototype.toString.call(b).match(/^\[object\s(.*)\]$/)[1].toLowerCase():"null";
else if(e=="number")if(isNaN(b))e="nan";else isFinite(b)||(e=b>0?"infinite":"-infinite");if(e=="meta"&&h.has(b,"info")&&h.has(b.info,"name")){if(c==e)return true;e=b.info.name}if(c)return c==e;return e};h.obj2array=function(b,c){if(!c&&!E)return Array.prototype.slice.call(b);else{var e=[];h.each(b,function(j){e.push(j)},c);return e}};h.indexOf=function(b,c,e){for(var j=b.length;j--;)if(e){if(b[j]==c)break}else if(b[j]===c)break;return j};h.unique=function(b){var c=[],e,j;e=0;for(j=b.length;e<j;e++)h.indexOf(c,
b[e])<0&&c.push(b[e]);return c};h.has=function(b,c){return b&&b[c]!==y&&b[c]!==null};h.genProperties=function(b,c,e){var j=0;b=b.split(",");for(var k=b[0];j<b.length;k=b[++j])e[k]=c(k)};h.toggle=function(b,c,e){e=e||false;return function(){return((e=!e)?b:c).apply(this,arguments)}};h.core=h();h.core.extend({_:null,son:function(){return h.son(this)},bro:function(b){return(new this.constructor).set(b)},its:function(b){return h.its(this._,b)},get:function(){return this._},set:function(b){this._=b;return this},
wrap:function(b,c){return this._[b].apply(this._,c)},copy:function(){return this.bro().set(this.get())},callback:function(b){for(var c=this,e=[],j=1,k=arguments;j<k.length;j++)e.push(k[j]);return function(){return c[b].apply(c,e)}},getMe:function(){return this}});h.ajax=function(b,c,e,j){function k(){if(c){var m=g.readyState;if(!h.its(c,"array")&&m==4)c.call(i,i);else c[m]&&c[m].call(i,i)}}e=e||"";j=j===y?h.ajax.async:j;var g=E?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,i={status:function(){return g.status},
text:function(){return g.responseText},json:function(){return eval("("+(i.text()||"null")+")")},xml:function(){return g.responseXML}};g.open("POST",b,j);if(j)g.onreadystatechange=k;g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.send(e);j||k();return g};h.ajax.async=true;h.string=h(h.core);h.string.extend({bro:function(b){return(new this.constructor).set(b||"")},set:function(b){return this.supr.call(this,"set",""+b)},len:function(){return this.get().length},dos2unix:function(){return this.replace(/\r\n|\r/g,
"\n")},unix2dos:function(){return this.replace(/\n/g,"\r\n")},stripTags:function(){return this.replace(/<\/?[^>]+>/g,"")},escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&#34;")},unescapeHTML:function(){var b=document.createElement("div");b.innerHTML=this.stripTags().get();return this.set(b.childNodes[0]?b.childNodes[0].nodeValue:"")},trim:function(){return this.replace(/^\s+|\s+$/g,"")},rtrim:function(){return this.replace(/\s+$/,
"")},ltrim:function(){return this.replace(/^\s+/,"")},insertAt:function(b,c){var e=this.get();return this.set(e.substr(0,b)+c+e.substr(b))},addSlashes:function(){return this.replace(/\\/g,"\\\\").replace(/\'/g,"\\'")},stripSlashes:function(){return this.replace(/\\'/g,"'").replace(/\\\\/g,"\\")},nl2br:function(){return this.dos2unix().replace(/\n/g,"<br/>")},br2nl:function(){return this.replace(/<br\s*\/?>/gi,"\n")},toInt:function(){return parseInt(this.get().match(/\d/g).join(""),10)}});h.string.extend(function(){var b=
h.genProperties;b("replace,concat,substr,substring,slice,toUpperCase,toLowerCase",function(c){return function(){return this.set(this.wrap(c,arguments))}},this);b("charAt,charCodeAt,indexOf,lastIndexOf,search,match,split,valueOf",function(c){return function(){return this.wrap(c,arguments)}},this)});h.extensions.string=h.string;h.array=h(h.core);h.array.extend({bro:function(){var b=new this.constructor,c;b.set([]);h.each(arguments,function(e){c=h.its(e);if(c=="array")b.set(e);else c!="undefined"&&b.push(e)});
return b},get:function(b){var c=this.supr.call(this,"get");return h.its(b,"number")?c[b]:c},set:function(b,c){if(h.its(c,"number"))this.get()[c]=b;else this.supr.call(this,"set",b);return this},indexOf:function(b,c){var e=this.get(),j=e.length;for(c=c||0;c<j;c++)if(e[c]===b)return c;return-1},lastIndexOf:function(b,c){var e=this.get();for(c=c+1||e.length;c--;)if(e[c]===b)break;return c},some:function(b,c){c=c||this;var e=this.get();return!h.each(e,function(j,k){if(b.call(c,j,k,e))return false})},
every:function(b,c){c=c||this;var e=this.get();return h.each(e,function(j,k){if(!b.call(c,j,k,e))return false})},filter:function(b,c){c=c||this;var e=[],j=this.get();h.each(j,function(k,g){b.call(c,k,g,j)&&e.push(k)});return e},forEach:function(b,c){var e=this.get();c=c||this;h.each(e,function(j,k){b.call(c,j,k,e)});return this},map:function(b,c){c=c||this;var e=[],j=this.get();h.each(j,function(k,g){e.push(b.call(c,k,g,j))});return e},numSort:function(){return this.sort(function(b,c){return b-c})},
insert:function(b,c){c==y?this.push(b):this.splice(c,0,b);return this},drop:function(b,c){return this.splice(b,c||1)},unique:function(){return this.set(h.unique(this.get()))},len:function(){return this.get().length},reduce:function(b,c){var e=this.len(),j=0,k=this.get();for(c=c||k[j++];j<e;j++)c=b.call(this,c,k[j],j,k);return c},reduceRight:function(b,c){var e=this.len(),j=e-1,k=this.get();if(!(e<1&&!c)){for(e=c||k[j--];j>=0;j--)e=b.call(this,e,k[j],j,k);return e}},shuffle:function(){for(var b=this.get(),
c=b.length,e=c-1,j,k;c--;){j=Math.round(Math.random()*e);k=b[c];b[c]=b[j];b[j]=k}return this}});h.array.extend(function(){var b=h.genProperties;b("push,sort,splice,unshift,reverse",function(c){return function(){this.wrap(c,arguments);return this}},this);b("pop,shift,join",function(c){return function(){return this.wrap(c,arguments)}},this);b("concat,slice",function(c){return function(){return this.set(this.wrap(c,arguments))}},this)});h.extensions.Array=h.array;h.cookie=h(h.core);h.cookie.extend({create:function(b){var c=
this.get()+"="+b.value,e;for(e in b)if(e!="value")c+=";"+e+"="+b[e];document.cookie=c},read:function(){for(var b=document.cookie.split(";"),c,e=b.length;e--;){c=b[e].replace(/^\s*|\s*$/g,"").split("=");if(c[0]==this.get())return decodeURIComponent(c[1])}return null},erase:function(){var b=new Date;b.setDate(b.getDate()-9);this.create({value:"","max-age":0,expire:b.toUTCString()})}});h.sandbox=function(){var b=document.createElement("iframe"),c,e;b.style.display="none";document.body.appendChild(b);
e=frames[frames.length-1];c=e.document;c.writeln("<script>window.sandbox=window.ActiveXObject?this:{eval:function(s){return eval(s)}};<\/script>");c.close();return{eval:function(j){return e.sandbox.eval(j)},include:function(j){var k=c.createElement("script");k.src=j;c.body.appendChild(k)}}};h.events=h(h.core);h.events.extend(function(){var b={},c=h.array.bro();this.onNewEvent=function(){};this.onEmptyEvent=function(){};this.onFireEvent=function(){};this.addEvent=function(e,j,k,g){g=g===y?1:g;var i=
-1,m=this;if(b[e])i=m.indexOfEvent(e,j);else b[e]=[];if(i<0){i={type:e,obj:j,cb:function(){return m.fireEvent.apply(m,c.set([e,j]).concat(h.obj2array(arguments)).get())},fn:[]};b[e].push(i);m.onNewEvent(i)}else i=b[e][i];c.set(i.fn);if(h.its(k,"array")){c.concat(k);i.fn=c.get()}else if(g||c.indexOf(k)<0)c.push(k);return m};this.getEvent=function(e,j){return b[e]&&b[e][j]?b[e][j]:null};this.getObjectEvents=function(e){var j=[],k,g=this;for(var i in b){k=g.indexOfEvent(i,e);k>-1&&j.push(b[i][k])}return j};
this.indexOfEvent=function(e,j){var k=-1;if(!b[e])return k;c.set(b[e]).every(function(g,i){if(g.obj==j){k=i;return false}return true});return k};this.fireEvent=function(e,j){var k=this,g=k.indexOfEvent(e,j),i=true,m;if(g<0)return false;g=b[e][g];m=[];h.each(arguments,function(a,d){d>1&&m.push(a)});h.each(g.fn,function(a){if(a.apply(j,m)===false)i=false});k.onFireEvent(g,i,m);return i};this.rmEvent=function(e,j,k){var g=-1,i,m=this.indexOfEvent(e,j);if(m<0)return this;j=b[e][m];if(k){i=c.set(j.fn);
g=i.indexOf(k);g>-1&&i.drop(g)}else j.fn=[];if(!j.fn.length){c.set(b[e]).drop(m);this.onEmptyEvent(j)}return this};this.rmObject=function(e){var j=this;h.each(b,function(k,g){j.rmEvent(g,e)},1);return j};this.flush=function(e){e=e||function(){return 1};var j=this,k=[],g;h.each(b,function(i,m){for(g=i.length;g--;)e(m,i[g].obj)&&j.rmEvent(m,i[g].obj);i.length||k.push(m)},1);for(g=k.length;g--;)delete b[k[g]];return j};this.ev=b});h.domevent=h(h.array);h.domevent.extend(h.events,{exclude:["bro","sup",
"get","set"]});h.domevent.extend({valid_type:" abort blur change click dblclick error focus keydown keypress keyup load mousedown mousemove mouseout mouseover mouseup reset resize select submit unload ",onNewEvent:function(b){if(this.valid_type.indexOf(" "+b.type+" ")!=-1)if(h.has(b.obj,"addEventListener"))b.obj.addEventListener(b.type,b.cb,false);else h.has(b.obj,"attachEvent")&&b.obj.attachEvent("on"+b.type,b.cb)},onEmptyEvent:function(b){if(this.valid_type.indexOf(" "+b.type+" ")!=-1)if(h.has(b.obj,
"removeEventListener"))b.obj.removeEventListener(b.type,b.cb,false);else h.has(b.obj,"detachEvent")&&b.obj.detachEvent("on"+b.type,b.cb)},onFireEvent:function(b,c,e){if(!(c||this.valid_type.indexOf(" "+b.type+" ")==-1)){e[0].cancelBubble=true;e[0].returnValue=false;e[0].stopPropagation&&e[0].stopPropagation();e[0].preventDefault&&e[0].preventDefault()}},on:function(b,c){var e=this;if(c)return e.forEach(function(j){e.addEvent(b,j,c)})},fire:function(b){var c=this;return c.forEach(function(e){e["on"+
b]&&e["on"+b]();c.fireEvent(b,e)})},rmOn:function(b,c){var e=this;return e.forEach(function(j){e.rmEvent(b,j,c)})},cleanEvents:function(){return this.flush(function(b,c){return c.parentNode===null})}});h.domevent.addEvent("unload",D,function(){h.events.flush();document&&document.body&&h.dom.purge(document.body)});h.animation=function(){function b(k,g,i,m,a,d){function f(){var v=(new Date).getTime();if(v>=n)return false;a.call(d,g+(v-p)*q/u)}function l(){k&&k.call(s,d)}var p=(new Date).getTime(),n=
p+(m||200),q=i-g,u=n-p,s=this;c.addEvent("frameStep",c,f);c.addEvent("stopAnim",c,l);c.fireEvent("frameStep",c)}var c=h.events.bro(),e=1E3/30,j=["width","height","left","top","display","visibility","overflow","filter","MozOpacity","zoom","opacity","KHTMLOpacity"];c.onFireEvent=function(k,g){if(k.type=="frameStep")if(g)setTimeout(c.callback("fireEvent","frameStep",c),e);else{c.rmEvent("frameStep",c);c.fireEvent("stopAnim",c);c.rmEvent("stopAnim",c)}};return{data:"data-meta_",cssBackup:function(){var k=
h.dom.bro(),g,i=this;return i.forEach(function(m){k.set(m);m=parseInt(k.attr(i.data+"bak"),10)||0;k.attr(i.data+"bak",m+1);if(!m){h.each(j,function(a){g=k.css(a);g!==null&&k.attr(i.data+a,g)});if(!k.attr(i.data+"size_w")){g=k.dims();k.attr(i.data+"size_w",g.width).attr(i.data+"size_h",g.height)}if(!k.attr(i.data+"pos_l")){g=k.dims();k.attr(i.data+"pos_l",g.left).attr(i.data+"pos_t",g.top)}}})},cssRestore:function(k){function g(d){m=i.attr(a.data+d);i.css(d,"");m!==null&&i.css(d,m)}var i=h.dom.bro(),
m,a=this;return a.forEach(function(d){if(i.set(d).attr(a.data+"bak"))k?g(k):h.each(j,g)})},cssBackupClear:function(){var k=h.dom.bro(),g=this;return g.forEach(function(i){k.set(i);h.each(j,function(m){k.attr(g.data+m,null)});k.attr(g.data+"bak",null).attr(g.data+"size_w",null).attr(g.data+"size_h",null).attr(g.data+"pos_l",null).attr(g.data+"pos_t",null)})},animate:function(k,g,i,m,a,d){var f=this;f.cssBackup();f.cssRestore("display");f.__||c.addEvent("stopAnim",c,function(){if(d){f.cssRestore();
f.cssBackupClear()}f.__=0});f.__=1;return this.forEach(function(l){b.call(f,a,k.call(l),g.call(l),i,m,l)})},slide:function(k,g,i){var m=this,a=h.dom.bro(),d,f,l;d=function(){return 0};var p=function(){return a.set(this).dims().width},n=function(){return a.set(this).dims().height},q=function(){return 1};f=function(t){a.set(this).css("width",t+"px").css("overflow","hidden")};var u=function(t){a.set(this).css("height",t+"px").css("overflow","hidden")},s=function(t){a.set(this);var z=[a.attr(m.data+"size_w"),
a.attr(m.data+"size_h")];a.css("width",t*z[0]+"px").css("height",t*z[1]+"px").css("overflow","hidden")},v=function(t){i&&i.call(m,t)},x=function(t){a.set(t).hide();i&&i.call(m,t)};switch(k){case "up-left":k=q;d=d;f=s;v=x;break;case "right":k=d;d=p;f=f;l=1;break;case "left":k=p;d=d;f=f;v=x;break;case "up":k=n;d=d;f=u;v=x;break;case "down":k=d;d=n;f=u;l=1;break;default:k=d;d=q;f=s;l=1}return m.animate(k,d,g,f,v,l)},fade:function(k,g,i){var m=this,a=h.dom.bro(),d,f;d=function(){return 0};var l=function(){return 1},
p=function(q){i&&i.call(m,q)},n=function(q){a.set(q).hide();i&&i.call(m,q)};if(k=="out"){k=l;d=d;p=n}else{k=d;d=l;f=1}return this.animate(k,d,g,function(q){a.set(this).opacity(q)},p,f)}}}();h.dom=h(h.domevent);h.dom.info.name="Meta.dom";h.dom.extend(h.animation);h.dom.extend(function(){function b(){i=h.sandbox();return m=i.eval('document.createElement("div");')}function c(a){if(a=="float")a=E?"styleFloat":"cssFloat";a=a.split("-");for(var d=1,f=a.length,l;d<f;d++){l=a[d];a[d]=l.charAt(0).toUpperCase();
a[d]+=l.substr(1)}return a.join("")}function e(a){return a.value!==null&&a.value!==y&&a.value.length>0?a.value:a.text}var j={before:function(a,d,f){f&&f.insertBefore(d,a)},after:function(a,d,f){f&&f.insertBefore(d,a.nextSibling)},replace:function(a,d,f){f&&f.replaceChild(d,a)},prepend:function(a,d){a.insertBefore(d,a.firstChild||null)},append:function(a,d){a.appendChild(d)}},k=h.string.bro(),g=h.array.bro(),i,m;return{_doc:document,bro:function(){var a=["bro"],d=arguments;if(d.length)a=a.concat(h.obj2array(d));
else a.push(this.doc());return this.supr.apply(this,a)},set:function(a,d){a=a||this.doc();if(!h.its(d,"number")&&!h.its(a,"array"))a=[a];return this.supr.apply(this,["set",a,d])},doc:function(a){if(!a)return this._doc=this._doc||document;if(!h.its(a,"string")){this._doc=a.nodeType==9?a:a.ownerDocument?a.ownerDocument:document;return this}if(E){this._doc=new ActiveXObject("Msxml2.DOMDocument");this._doc.async=false;this._doc.loadXML(a)}else this._doc=(new DOMParser).parseFromString(a,"text/xml");this.set(h.obj2array(this._doc.childNodes));
return this},select:function(a,d){var f=this,l=[],p,n,q=h.select;if(a.nodeType){f._=[a];return f}else if(d){if(d.nodeType)f._=[d];n=f._;p=n.length;for(d=0;d<p;d++)l=l.concat(q(a,n[d]))}else l=q(a,f.doc());f._=l;return f},evalGlobal:function(a){var d=this.doc(),f=d.createElement("script"),l=d.getElementsByTagName("head")[0]||d.documentElement;f.type="text/javascript";if(E)f.text=a;else f.appendChild(d.createTextNode(a));l.insertBefore(f,l.firstChild);l.removeChild(f);return this},glue:function(a,d){if(a==
"")return this;var f,l,p,n,q=this;d=j[d||"append"];f=q.son();n=[];var u=[],s;if(a.nodeType)f._=[a];else if(typeof a=="string")f.create(a);else f._=a;p=f._;f=p.length;l=q.doc().createDocumentFragment();for(a=0;a<f;a++){s=p[a];if(s.nodeName.toLowerCase()=="script")n.push(s);else if(s.nodeType==1)n=n.concat(h.obj2array(s.getElementsByTagName("script")));l.appendChild(s)}f=n.length;for(a=0;a<f;a++){s=n[a];if(!s.src){u.push(s.text||s.textContent||s.innerHTML||"");s.parentNode.removeChild(s)}}u=u.join("\n");
p=q._;f=p.length;for(a=0;a<f;a++){n=p[a];d(n,a?l.cloneNode(true):l,n.parentNode);q.evalGlobal(u)}return q},remove:function(){for(var a=this._,d=a.length,f;d--;){f=a[d];f.parentNode&&f.parentNode.removeChild(f)}return this},create:function(a){var d=this.doc().createElement("div"),f=[],l;if(this.isXML(d)){(l=m)||(l=b());l.innerHTML=a;h.dom.copyNodes(l.childNodes,d)}else if(E){d.innerHTML="<br>"+a;d.removeChild(d.firstChild)}else d.innerHTML=a;for(;l=d.firstChild;)f.push(d.removeChild(l));return this.set(f)},
prop:function(a,d){return(d=this.get(d||0))?a in d?d[a]:null:d},attr:function(a,d){var f,l=this._;f=l.length;var p,n;if(!f)return null;p=l[0];n=p.attributes;if(!a)return n;if(d!==y){for(f=f;f--;)d===null&&l[f].removeAttribute?l[f].removeAttribute(a):l[f].setAttribute(a,d);return this}if(!n)return null;return p.getAttribute(a)},css:function(a,d){var f=this._,l=f.length;a=c(a);if(d===y)return l?f[0].style[a]:null;for(;l--;)f[l].style[a]=d;return this},style:function(a,d){if(d=this.get(d||0)){a=c(a);
d=D.getComputedStyle?D.getComputedStyle(d,null).getPropertyValue(a):d.currentStyle[a]}return d},val:function(a){var d,f=[],l,p=this._,n=p.length,q=h.indexOf;if(a!==y){for(;n--;){d=p[n];if(d.nodeName=="SELECT"){a.push||(a=[a]);l=d.options;for(d=l.length;d--;){f=l[d];f.selected=false;if(q(a,e(f),1)>-1)f.selected=true}}else d.value=a}return this}if(!n)return null;a=p[0];if(a.nodeName!="SELECT")return a.value||null;if(!a.multiple)return e(a.options[a.selectedIndex]);a=a.options;for(d in a)a[d].selected&&
f.push(e(a[d]));return f},outer:function(a){var d=this._,f=d.length,l;a=d[a||0];if(!a||!a.nodeType)return null;if(a.nodeType==3)return a.nodeValue;if(!E){if(this.isXML(a))return(new XMLSerializer).serializeToString(a);d=this.doc().createElement("b");d.appendChild(a);return d.innerHTML}d=this.isXML(a)?"xml":"outerHTML";if(a.nodeType!=11)l=a[d];else{l=[];a=a.childNodes;for(f=a.length;f--;)l.push(a[f][d]);l.reverse();l=l.join("")}return l},inner:function(a,d){var f=this._,l="",p=this.son();if(a===y){if(!f.length)return null;
a=f[0];if(!this.isXML(a))return a.innerHTML;a=a.childNodes;d=0;for(f=a.length;d<f;d++)l+=p.set(a[d]).outer();return l}return this.empty().append(a,d)},text:function(a){if(a===y){a=this._;if(!a.length)return null;a=a[0];return a.innerHTML?a.innerHTML.replace(/<\/?[^>]+>/gi,""):a.text||a.textContent}return this.empty().append(this.doc().createTextNode(a))},elements:function(a){var d=this._;if(!d.length)return null;var f=[],l=d[0];if(l.nodeName.toUpperCase()!="FORM")return null;l=l.elements;for(d=l.length;d--;)if(a===
y)f.push(f[l[d].name]=l[d]);else if(l[d].name==a)return l[d];return a?null:f},submit:function(a){var d=this._;if(!d.length)return this;a=a||function(){};for(var f=this.elements(),l=this.son(),p=[],n=0,q,u,s;n<f.length;n++){s=f[n];if(s.nodeName.toUpperCase()!="FIELDSET")if(!(s.nodeName.toUpperCase()=="INPUT"&&(s.type.toLowerCase()=="checkbox"||s.type.toLowerCase()=="radio")&&!s.checked)){q=l.set(s).val();u=encodeURIComponent(s.name,1)+"=";h.its(q,"array")?h.each(q,function(v){p.push(u+encodeURIComponent(v===
null||v===y?"":v,1))}):p.push(u+encodeURIComponent(q===null||q===y?"":q,1))}}h.ajax(d[0].action,a,p.join("&"));return this},nodes:function(a){var d=this._,f=[],l=d.length;a=a||0;if(l<=a)return null;l=d[a].childNodes;d=l.length;for(a=0;a<d;a++)l[a].nodeType==1&&f.push(l[a]);return f},empty:function(){for(var a,d=this._,f=d.length,l=this.isXML();f--;){a=d[f];if(l)for(;a.firstChild;)a.removeChild(a.firstChild);else a.innerHTML=""}return this},hasClass:function(a,d){var f=this._,l=f.length;d=d||0;if(l<=
d)return false;d=f[d];if(!d.className)return false;return(" "+d.className+" ").indexOf(" "+a+" ")>-1},addClass:function(a){for(var d=this._,f=d.length,l;f--;){l=d[f];if(l.className)l.className=k.set(g.set(l.className.split(" ")).insert(a).unique().get().join(" ")).trim().get()}return this},rmClass:function(a){for(var d=this._,f=d.length,l,p,n;f--;){l=d[f];if(l.className){p=g.set(l.className.split(" ")).unique();n=p.indexOf(a);if(n>-1)l.className=k.set(p.splice(n,1).get().join(" ")).trim().get()}}return this},
dims:function(a){if(a=this.get(a||0)){for(var d=a.offsetLeft||0,f=a.offsetTop||0,l=a.offsetWidth||0,p=a.offsetHeight||0;a=a.offsetParent;){d+=a.offsetLeft-a.scrollLeft+(a.clientLeft?a.clientLeft:0);f+=a.offsetTop-a.scrollTop+(a.clientTop?a.clientTop:0)}a={left:d,top:f,width:l,height:p}}return a},scrollDims:function(a){return(a=this.get(a||0))?{left:a.scrollX||a.scrollLeft,top:a.scrollY||a.scrollTop,width:a.scrollWidth||0,height:a.scrollHeight||0}:a},opacity:function(a){var d=Math.round(a*100);return this.css("MozOpacity",
a).css("opacity",a).css("KHTMLOpacity",a).css("zoom",1).css("filter","alpha(opacity="+d+")")},hide:function(){return this.css("display","none")},show:function(a){return this.css("display",a||"")},parent:function(a){return this.prop("parentNode",a)},next:function(a){for(a=this.get(a||0);a&&(a=a.nextSibling)&&a.nodeType!=1;);return a},prev:function(a){for(a=this.get(a||0);a&&(a=a.previousSibling)&&a.nodeType!=1;);return a},first:function(a){for(a=this.prop("firstChild",a);a&&a.nodeType!=1;)a=a.nextSibling;
return a},last:function(a){for(a=this.prop("lastChild",a);a&&a.nodeType!=1;)a=a.previousSibling;return a},value:function(a){return this.prop("nodeValue",a)},type:function(a){return this.prop("nodeType",a)},name:function(a){return this.prop("nodeName",a)},isXML:function(a){a||(a=this.doc());a=a.nodeType==9?a:a.ownerDocument;return a.documentElement.nodeName!=="HTML"}}}());h.dom.extend(function(){h.genProperties("prepend,append,before,after,replace",function(b){return function(c){return this.glue(c,
b)}},this)});h.dom.extend(function(){var b={prependTo:"prepend",appendTo:"append",insertBefore:"before",insertAfter:"after",replaceIn:"replace"};h.genProperties("prependTo,appendTo,insertBefore,insertAfter,replaceIn",function(c){return function(e){var j=this._;return this.set(e).glue(j,b[c]).set(j)}},this)});h.extensions.element=h.dom;h.dom.copyNodes=function(b,c,e,j){var k=c.ownerDocument?c.ownerDocument:c.nodeType==9?c:document,g=function(m,a){for(var d,f=0,l=a.length;f<l;f++){if(a[f].nodeType==
1)d=m.appendChild(i(a[f]));else a[f].nodeType==3&&m.appendChild(k.createTextNode(a[f].nodeValue));if(j==a[f])j=d}},i=function(m){if(e&&m&&!m.id&&h.has(m,"uniqueID"))m.id=m.uniqueID;var a=h.dom.cloneTag(m);g(a,m.childNodes);return a};g(c,b);return j};h.dom.cloneTag=function(b,c){c=c||(b.ownerDocument?b.ownerDocument:document);c=c.createElement(b.nodeName.toLowerCase());var e;b=b.attributes;for(e=b.length;e--;)c.setAttribute(b[e].name,b[e].value);return c};h.dom.cloneNode=function(b,c){c=c||(b.ownerDocument?
b.ownerDocument:document);if(b.nodeType==3)return c.createTextNode(b.nodeValue);c=h.dom.cloneTag(b,c);h.dom.copyNodes(b.childNodes,c);return c};h.dom.ready=function(){var b=0,c,e,j=h.events.bro(),k;j.extend({fireReady:function(){if(!b){b=1;this.fireEvent("ready",D);e&&clearInterval(e)}}});k=j.callback("fireReady");if(h.has(document,"addEventListener"))document.addEventListener("DOMContentLoaded",k,false);else if(h.has(D,"ActiveXObject")){c=document.createElement("script");c.onreadystatechange=function(){if(/loaded|complete/.test(c.readyState)){k();
c.onreadystatechange=null}};c.defer=true;c.src="javascript:void(0);";document.getElementsByTagName("HEAD")[0].appendChild(c)}else if(/Safari/i.test(navigator.userAgent))e=setInterval(function(){/loaded|complete/.test(document.readyState)&&k()},10);h.dom.addEvent("load",D,k);return function(g){b?g():j.addEvent("ready",D,g)}}();h.dom.purge=function(b){if(E||b.attributes){var c=b.attributes,e,j;if(c)for(e=c.length;e--;){j=c[e].name;if(typeof b[j]==="function")b[j]=null}if(c=b.childNodes)for(e=c.length;e--;)h.dom.purge(c[e])}};
h.guiEngine=h(function(){function b(){if(!("meta_sel"in q)){q.meta_sel=1;q.meta_onselectstart=n.get().onselectstart;q.meta_unselectable=n.get().unselectable;q.meta_MozUserSelect=n.css("MozUserSelect");q.meta_KhtmlUserSelect=n.css("KhtmlUserSelect")}}function c(){if("meta_sel"in q){n.css("MozUserSelect",q.meta_MozUserSelect);n.css("KhtmlUserSelect",q.meta_KhtmlUserSelect);n.get().onselectstart=q.meta_onselectstart;n.get().unselectable=q.meta_unselectable}}function e(){b();n.get().onselectstart=function(){return false};
n.get().unselectable="on";n.css("MozUserSelect","none").css("KhtmlUserSelect","none")}function j(o){return o?o:D.event}function k(o){if(!t||!f.len())return false;o=j(o);var r=[o.screenX-x[0],o.screenY-x[1]];"mmv"in A[t]&&A[t].mmv(o,r);o.cancelBubble=true;return false}function g(o){o=j(o);f.set(o.target||o.srcElement);t=f.attr("gui");if(!(t in A))return false;var r=f.attr("dad"),w=f.attr("limit");r&&f.select("#"+r);w?l.select("#"+w):l.set(n.get());m();"md"in A[t]&&A[t].md(o);x=[o.screenX,o.screenY];
o.cancelBubble=true;return false}function i(o){if(!t)return false;o=j(o);"mu"in A[t]&&A[t].mu(o);x=[o.screenX,o.screenY];o.cancelBubble=true;t="";return false}function m(){var o=l,r=o.size();o=o.pos();u=[o[0],o[1],r[0]+o[0],r[1]+o[1]]}function a(){if(!z){p.on("mousemove",k).on("mousedown",g).on("mouseup",i);z=1;n=h.dom.bro().set(document.body);l.set(n.get());m()}}function d(){if(z){p.rmOn("mousemove",k).rmOn("mousedown",g).rmOn("mouseup",i);z=0}}var f=h.dom.bro(),l=h.dom.bro(),p=h.domevent.bro(document),
n,q={},u=[0,0,0,0],s=[0,0],v=[0,0],x=[0,0],t="",z=0,A={drag:{md:function(){s=f.pos();v=f.size();e();f.css("position","absolute").css("zIndex","1")},mu:function(){c();f.css("zIndex","0")},mmv:function(o,r){var w=s,B=v;B=[u[2]-B[0],u[3]-B[1]];r=[w[0]+r[0],w[1]+r[1]];if(r[0]>=u[0]&&r[0]<B[0]){s[0]=r[0];x[0]=o.screenX}else if(r[0]<u[0])r[0]=u[0];else if(r[0]>B[0])r[0]=B[0];if(r[1]>=u[1]&&r[1]<B[1]){s[1]=r[1];x[1]=o.screenY}else if(r[1]<u[1])r[1]=u[1];else if(r[1]>B[1])r[1]=B[1];f.css("left",r[0]+"px");
f.css("top",r[1]+"px")}},resize:{md:function(){e()},mu:function(){c()},mmv:function(o,r){var w=f.size();r=[w[0]+r[0],w[1]+r[1]];if(r[0]>=10){f.css("width",r[0]+"px");x[0]=o.screenX}if(r[1]>=10){f.css("height",r[1]+"px");x[1]=o.screenY}}}};return{guiStart:a,guiStop:d,guiEngine:function(){return z}}}());h.select=function(){function b(g,i,m){var a,d=0;if(g){d=1;for(a in i)if(i[a]&&!m[a](g,i[a])){d=0;break}}return d}var c={CHUNKER:/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]+['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[]+)+|[>+~])(\s*,\s*)?/g,
ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/g,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/g,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/g,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/g,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/g,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/g,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/g,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/g},e={"=":function(g,i){return g==
i},"!=":function(g,i){return g!=i},"~=":function(g,i){return g!==null&&(" "+g+" ").indexOf(i)>-1},"^=":function(g,i){return g!==null&&g.indexOf(i)==0},"*=":function(g,i){return g!==null&&g.indexOf(i)>-1},"$=":function(g,i){return g!==null&&g.lastIndexOf(i)+i.length==g.length},"|=":function(g,i){return g==i||g.indexOf(i+"-")==0},"":function(g){return g!==null}},j={tag:function(g,i){return g.nodeName==i||i=="*"},className:function(g,i){return(g=g.className)&&(" "+g+" ").indexOf(" "+i+" ")>-1},attr:function(g,
i){for(var m,a,d=i.length;d--;){a=i[d];m=a[1];if(g.nodeType==1){m=g.getAttribute(m);if(m!==null&&a[2](m,a[4]))continue}return 0}return 1},pseudo:function(){return 0},nest:function(g,i){var m=i[0];i=i[1];var a;if(!g)return 0;if(m[parseInt(g.getAttribute(i),10)]!=g){a=m.length;g.setAttribute(i,a);m[a]=g;return 1}return 0}},k={">":function(g,i,m,a,d,f,l){var p=g.childNodes;a=[];i=0;for(m=p.length;i<m;i++){g=p[i];g.nodeType==1&&f(g,d,l)&&a.push(g)}return a},"~":function(g,i,m,a,d,f,l){for(i=[];g=g.nextSibling;)g.nodeType==
1&&f(g,d,l)&&i.push(g);return i},"+":function(g,i,m,a,d,f,l){for(;(g=g.nextSibling)&&g.nodeType!=1;);return f(g,d,l)?[g]:[]}};return function(g,i){i=i||document;if(i.querySelectorAll)return h.obj2array(i.querySelectorAll(g));var m=c.CHUNKER,a,d,f,l,p,n=[i],q=c.ID,u=c.CLASS,s=c.ATTR,v=c.TAG,x=i.nodeType==9?i:i.ownerDocument,t,z,A,o,r,w,B=x.documentElement.nodeName!=="HTML",F,H=0,G=[],C={};for(m.lastIndex=0;a=m.exec(g);){l=a[1];if(l==">"||l=="~"||l=="+")p=k[l];else{F=[];q.lastIndex=0;if(d=q.exec(l)){o=
x.getElementById(d[1]);n=j.nest(o,[F,"data-metaNest"])?[o]:[]}else{C.nest=[F,"data-metaNest"];C.attr=[];for(s.lastIndex=0;(d=s.exec(l))!==null;){d[2]=e[d[2]||""];C.attr.push(d)}if(!C.attr.length)C.attr=0;if(!C.attr){u.lastIndex=0;d=u.exec(l);C.className=d?d[1]:d}v.lastIndex=0;d=(d=v.exec(l))?d[1]:"*";d=B?d:d.toUpperCase();C.tag=d;r=[];t=0;for(z=n.length;t<z;t++){o=n[t];if(p)r=r.concat(p(o,d,"data-metaNest",F,C,b,j));else{u.lastIndex=0;if((f=u.exec(l))&&o.getElementsByClassName){w=o.getElementsByClassName(f[1]);
f=0}else w=o.getElementsByTagName(d);if(!f)C.className=0;f=0;for(A=w.length;f<A;f++){o=w[f];b(o,C,j)&&r.push(o)}}}n=r}p=null;if(a[2]&&a[2].replace(/^\s+|\s+$/g,"")==","){G[H++]=n;n=[i]}}}G[H]=n;F=[];n=[];t=0;for(z=G.length;t<z;t++){w=G[t];f=0;for(A=w.length;f<A;f++){o=w[f];j.nest(o,[F,"data-metaNest"])&&n.push(o)}}return n}}()})();
